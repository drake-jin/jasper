<!DOCTYPE html>
<html>
<head>
    <!-- [[! Document Settings ]] -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- [[! Page Meta ]] -->
    <title>(스터디) 도커.araboza - Intro</title>
    <meta name="description" content="데이터공작소 - 데이터 분석은 잘 못하지만, 데이터 분석할 수 있게 도와드리겠어요!" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="/assets/images/favicon.ico" >

    <!-- [[! Styles'n'Scripts ]] -->
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css" />
    <link rel="stylesheet" type="text/css"
          href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />
    <link rel="stylesheet" type="text/css" href="/assets/css/syntax.css" />

    <!-- [[! highlight.js ]] -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- [[! Ghost outputs important style and meta data with this tag ]] -->
        <link rel="canonical" href="/" />
    <meta name="referrer" content="origin" />
    <link rel="next" href="/page2/" />

    <meta property="og:site_name" content="데이터공작소" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="데이터공작소" />
    <meta property="og:description" content="데이터 분석은 잘 못하지만, 데이터 분석할 수 있게 도와드리겠어요!" />
    <meta property="og:url" content="/" />
    <meta property="og:image" content="/assets/images/cover1.jpg" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="데이터공작소" />
    <meta name="twitter:description" content="데이터 분석은 잘 못하지만, 데이터 분석할 수 있게 도와드리겠어요!" />
    <meta name="twitter:url" content="/" />
    <meta name="twitter:image:src" content="/assets/images/cover1.jpg" />

    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Website",
    "publisher": "Finding The Way Home",
    "url": "/",
    "image": "/assets/images/cover1.jpg",
    "description": "데이터 분석은 잘 못하지만, 데이터 분석할 수 있게 도와드리겠어요!"
}
    </script>

    <meta name="generator" content="Jekyll 3.0.0" />
    <link rel="alternate" type="application/rss+xml" title="데이터공작소" href="/feed.xml" />


</head>
<body class="home-template nav-closed">

    <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        <li class="nav-home " role="presentation"><a href="/">Home</a></li>
        <li class="nav-about " role="presentation"><a href="/about">About</a></li>
        <li class="nav-fables " role="presentation"><a href="/tag/fables">Fables</a></li>
        <li class="nav-speeches " role="presentation"><a href="/tag/speeches">Speeches</a></li>
        <li class="nav-fiction " role="presentation"><a href="/tag/fiction">Fiction</a></li>
        <li class="nav-author " role="presentation"><a href="/author/casper">Author</a></li>
    </ul>
    <a class="subscribe-button icon-feed" href="/feed.xml">Subscribe</a>
</div>
<span class="nav-cover"></span>


    <div class="site-wrapper">

        <!-- [[! Everything else gets inserted here ]] -->
        <!-- < default -->

<!-- The comment above "< default" means - insert everything in this file into -->
    <!-- the [body] of the default.hbs template, which contains our header/footer. -->

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->



<header class="main-header post-head no-cover">
    <nav class="main-nav  clearfix">
        
        
    </nav>
</header>

<main class="content" role="main">

    <article class="">

        <header class="post-header">
            <h1 class="post-title">(스터디) 도커.araboza - Intro</h1>
            <section class="post-meta">
            <!-- <a href='/'>drakejin</a> -->
            <time class="post-date" datetime="2017-04-02">02 Apr 2017</time>
                <!-- [[tags prefix=" on "]] -->
                 
                on 
                
                    
                       <a href='/tag/docker'>Docker</a>,
                       
                
                    
                       <a href='/tag/virtualization'>Virtualization</a>,
                       
                
                    
                       <a href='/tag/container'>Container</a>,
                       
                
                    
                       <a href='/tag/Immutable Infrastructure'>Immutable infrastructure</a>
                       
                
                
            </section>
        </header>

        <section class="post-content">
            
            <p>[데이터 공작소] 데이터 공작소는 도커는 어떻게 공부할것인가! 처음 시작하는 도커에 대해 공부를 시작합니다.</p>

<h2 id="section">도커에 대해 공부해보자.</h2>

<p><img src="/assets/posts/res/2017-04-02/docker.png" alt="docker logo" /></p>

<ul>
  <li>도커는 2013년 docker.inc에서 출시한 <em>오픈소스 컨테이너</em> 프로젝트</li>
  <li>AWS, Google Cloud Platform, Azure 에서 공식 지원중</li>
</ul>

<h2 id="section-1">도커 장점</h2>

<ul>
  <li>복잡한 리눅스 어플리케이션을 컨테이너로 묶어서 실행할 수 있음</li>
  <li>개발, 테스트, 서비스 환경을 통일하여 효율적으로 관리할 수 있음</li>
  <li><em>컨테이너(이미지)</em>를 전세계 사람들과 공유할 수 있음</li>
</ul>

<h2 id="section-2">컨테이너란?</h2>

<ul>
  <li>가상화보다 훨씬 가벼운 가상화 기술</li>
  <li>리눅스 안에 있는 컨테이너 기술을 이용하여 가상공간을 만든다.</li>
  <li>하지만 그 만들어진 공간안에 실행파일은 호스트에서 직접 실행한다.</li>
  <li>이 컨테이너 기술은 리눅스의 cgroups 와 namespaces가 제공하는 기술</li>
  <li>어찌 보면 컨테이너는 가상화가 아닌 격리의 개념과도 같다.</li>
  <li>컨테이너에 대한 내용은 아래 링크를 반드시 참조한다.</li>
  <li><a href="http://opennaru.tistory.com/105">도커 가상화의 원리와 장단점</a></li>
</ul>

<h2 id="section-3">가상화란?</h2>

<ul>
  <li>우리가 이용하는 VPS호스팅 임대 서비스들은 가상화를 이용한 클라우드 서비스</li>
  <li>컴퓨터 안에서 컴퓨터를 만들어내기 위한 시도</li>
  <li>1960년대에 가상화라는 개념이 처음 등장</li>
  <li>컴퓨터 성능이 좋아지면서 PC에서도 사용함.</li>
  <li>맥에서 윈도우를 설치하여 뱅킹을 하는것 처럼…</li>
  <li>개인 컴퓨터의 성능이 좋아짐과 동시에 서버 컴퓨터의 성능 또한 더불어 좋아짐.</li>
  <li>서버에서 서비스를 운영하면 운영되고 있는 어플리케이션이 소모하는 자원말고 아무것도 사용하고 있지 않음.</li>
  <li>그렇다고 Scale out과 활용 사이에 갈등.</li>
  <li>그렇다면 서버에 가상머신을 띄워서 놀고 있는 자원을 효율적으로 사용해보자!</li>
  <li>환경에 의존하여 인스톨하지 않고, 이미지를 인스톨하면 즉시 이용 가능할 수 있는 장점이 있음.</li>
  <li>하지만 가상화에는 단점들이 존재함, OS를 아예 만들어내기 때문에 자원낭비를 불러옴.</li>
  <li>심지어 AMD나 Intel CPU에 가상화 기능을 넣었는대도 자원낭비가 생기고 느리기 까지 함</li>
  <li>그래서 호스트와 커널을 공유하는 반 가상화 기술이 등장했다.</li>
  <li>이러나 저러나 가상머신은 느리다.</li>
  <li>가상머신은 항상 완전한 컴퓨터를 설치해야한다. 그렇기 때문에 항상 guest OS를 설치해야만 한다.</li>
  <li>이미지 안에 OS가 포함되기 때문에 이미지 용량이 커진다.</li>
  <li>네트워크로 가상화 이미지를 주고 받는건 부담스러움</li>
  <li>오픈소스 가상화 소프트웨어는 OS가상화에만 주력(배포와 관리 기능이 부족)</li>
  <li>이런 단점으로 인하여 컨테이너 기술이 나옴. (리눅스 컨테이너)</li>
</ul>

<h3 id="section-4">컨테이너(이미지) 공유 서비스</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>- *컨테이너* 기술은 리눅스 커널에서 제공해줌
- Github과  비슷한 방식의 docker hub란게 존재하여 공유함
</code></pre>
</div>

<h3 id="section-5">컨테이너와 이미지의 차이점</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>- 이미지 
    1. 서비스 운영에 필요한 서버 프로그램, 소스코드, 컴파일된 실행파일을 묶은 형태 
    2. 저장소에 올리고 받는것은 이미지 : push and pull

- 컨테이너
    1. 컨테이너는 이미지를 이미 실행한 형태
    2. 이미지로 여러개의 컨테이너를 만들 수 있다.

- 즉, 운영체제 측면으로 본다면 이미지는 실행파일, 컨테이너는 프로세스 
</code></pre>
</div>

<h2 id="section-6">도커의 특징</h2>

<ul>
  <li>도커는 게스트 OS를 설치하지 않는다.</li>
  <li>이미지에 서버 운영을 위한 프로그램과 라이브러리만 격리해서 설치</li>
  <li>이미지 용량이 크게 줄어든다.</li>
  <li>호스트와 OS자원을 공유(시스템 콜들..)</li>
  <li><em>도커는 하드웨어 가상화 계층이 존재하지 않음</em>(메모리접근, 파일접근 등등 관련한 기능에서 가상화보다 빠른 성능을 보여줌)</li>
  <li>이미지 생성과 배포에 특화됨</li>
  <li>이미지 버전관리 제공한다. 중앙저장소에 이미지를 올리고 받을 수 있다 (push/ pull)과정</li>
  <li>Github과 비슷한 형태의 서비스인 docker hub가 존재한다.</li>
  <li>다양한 API를 사용하여 원하는 만큼 자동화가 가능함, 개발과 서버운용에 매우 유용함.</li>
</ul>

<h3 id="section-7">도커의 버전관리(이미지 처리 방식)</h3>

<ul>
  <li>유니온 파일 시스템 형식 (aufs, btrfs, devicemapper)</li>
  <li>도커 베이스 이미지에서 바뀐부분만 이미지로 생성</li>
  <li>컨테이너로 실행할 때는 베이스 이미지와 바뀐부분을 합쳐서 실행</li>
  <li>즉, Docker Hub 및 개인 저장소에서 이미지를 공유할 때, 바뀐부분만 주고 받음</li>
  <li>각 이미지는 매 버전마다 의존관계를 가지게(형성하게) 됨</li>
</ul>

<h3 id="section-8">서비스 운영환경에서 도커를 적용하기 이전의 상황</h3>

<ul>
  <li>지금까지는 물리적인 서버를 직접 운영하는 방식이었음.</li>
  <li>호스팅 또는 IDC코로케이션 서비스 이용</li>
  <li>이전까지는 서버 구입과 운영까지 많은 비용이 소모되고 시간이 오래걸렸다.</li>
  <li>가상화가 발전하면서 클라우드 환경으로 변화</li>
  <li>가상 서버를 임대하여 이용한 만큼 돈을 지불하는 방식이었음</li>
  <li>단순한 클릭 몇번으로 서버가 생성되었다.</li>
  <li>이제는 자동으로 서버를 생성하고 삭제까지도 할 수 있게 되었다.</li>
  <li>현재는 서버 대수가 많아지게되면서 관리하기가 힘들어지게 됨</li>
  <li>그렇다면 많아진 서버 대수를 어떻게 셋팅하고 배포를 하게 될 것인가?</li>
  <li>이 많아진 서버 대수를 관리하기위한 서버관리 측면의 패러다임이 나오게 됨.</li>
  <li>Immutable Infrastructure 라는 패러다임이 나옴</li>
</ul>

<h3 id="immutable-infrastructure">Immutable Infrastructure</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>- 호스트 OS와 서비스 운영 환경(서버 프로그램, 소스코드, 컴파일된 바이너리)들을 분리하여 
- 한번 설정한 서버환경은 변경하지 않는다.(Immutable) 개념
- 서비스 운영환경을 이미지로 생성한 뒤 서버에 배포하여 실행
- 서비스가 업데이트 되면 운영환경 자체를 변경하지 않고, 이미지를 새로 생성하여 배포함.
- 클라우드 플랫폼에서 서버를 쓰고 버리는것과 같이 Immutable Infrastructure도 서비스 운영환경 이미지를 한번 쓰고 버림
</code></pre>
</div>

<h3 id="immutable-infrastructure-">Immutable Infrastructure의 장점</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>- 편리한 관리
    - 서비스 환경 이미지만 관리하면 된다.
    - 중앙관리를 통한 배포와 관리
    - 이미지 생성에 버전관리 시스템 활용 

- 확상정
    - 이미지 하나로 서버를 계속해서 찍어낼 수 있음
    - 클라우트 플랫폼의 자동확장(Auto Scaling)기능와 연동하여 손쉽게 서비스를 확장할 수 있다.

- 테스트
    - 개발자 PC또는 테스트 서버에서 이미지를 실행하면 서비스 운영환경과 동일한 환경이 구축됨
    - 테스트가 간편해진다.

- 가벼움
    - 운영체제와 서비스환경을 분리하여 가볍고 어디서나 실행가능한 환경을 제공할 수 있다. 
</code></pre>
</div>

<h3 id="immutable-infrastructure---">즉, 도커는 Immutable Infrastructure를 구현한 프로젝트 이다.</h3>

<h3 id="section-9">도커의 로고</h3>
<ul>
  <li>고래</li>
  <li>컨테이너를 싣고 다니는 고래</li>
  <li>고래는 서버에서 여러 개의 컨테이너(이미지)를 실행하고 이미지 저장과 배포(운반)을 의미</li>
  <li>Docker는 부두 노동자를 의미함, 컨테이너를 다루는 도커의 기능과 비슷함.</li>
  <li>Build, Ship, Run 도커는 서비스 운영환경을 묶어서 손 쉽게 배포하고 실행하는 경량컨테이너 기술</li>
</ul>

<h2 id="section-10">설치</h2>

<p>``` bash</p>

<p>$ sudo apt-get install update
$ sudo apt-get install docker.io -y
# 최신 바이너리를 설치하고 싶다면
# 참고링크 1번 프레젠테이션의 91페이지를 참고하세요.
```</p>

<h2 id="section-11">참고 링크</h2>
<ul>
  <li><img src="https://www.slideshare.net/pyrasis/docker-fordummies-44424016" alt="유명한 도커 입문 슬라이드" /> 완전히 배낌.</li>
  <li><img src="https://docs.docker.com/machine/install-machine/#installing-machine-directly" alt="boot2docker" /> 마지막부분 내용 좋음</li>
</ul>



        </section>

        <footer class="post-footer">

            <!-- Everything inside the #author tags pulls data from the author -->
            <!-- #author-->
        
            

            <section class="author">
                <h4><a href="/author/"></a></h4>

                
                <p>Read <a href="/author/">more posts</a> by this author.</p>
                
                <div class="author-meta">
                     
                    
                </div>
            </section> 
        
            <!-- /author  -->

            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="http://twitter.com/share?text=(스터디) 도커.araboza - Intro&amp;url=blog.drakejin.me%EC%8A%A4%ED%84%B0%EB%94%94-%EB%8F%84%EC%BB%A4-intro"
                    onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=blog.drakejin.me%EC%8A%A4%ED%84%B0%EB%94%94-%EB%8F%84%EC%BB%A4-intro"
                    onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=blog.drakejin.me%EC%8A%A4%ED%84%B0%EB%94%94-%EB%8F%84%EC%BB%A4-intro"
                   onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>
            
            <!-- Add Disqus Comments -->
            
<div id="disqus_thread"></div>

<!--
<script>
(function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');

    s.src = '//drake-jin-github-io/embed.js';

    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>


<div id="disqus_thread"></div>
-->
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'drake-jin-github-io'; // required: replace example with your forum shortname
    var disqus_identifier = '/%EC%8A%A4%ED%84%B0%EB%94%94-%EB%8F%84%EC%BB%A4-intro';
    var disqus_url = 'blog.drakejin.me/%EC%8A%A4%ED%84%B0%EB%94%94-%EB%8F%84%EC%BB%A4-intro';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); 
        dsq.type = 'text/javascript'; 
        dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] 
         || 
         document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

            
        </footer>

    </article>

</main>

<aside class="read-next">

    <!-- [[! next_post ]] -->
    
        <a class="read-next-story no-cover" href="/%EC%8A%A4%ED%84%B0%EB%94%94-%EB%8F%84%EC%BB%A4-1">
            <section class="post">
                <h2>(스터디) 도커.araboza - 1</h2>
                <p>[데이터 공작소] 데이터 공작소는 도커는 어떻게 공부할것인가! 처음 시작하는 도커에 대해 공부를 시작합니다. 이 문서의...</p>
            </section>
        </a>
    
    <!-- [[! /next_post ]] -->
    <!-- [[! prev_post ]] -->
    
        <a class="read-next-story prev " style="background-image: url(/assets/images/cover3.jpg)" href="/a-full-and-comprehensive-style-test">
            <section class="post">
                <h2>A Full and Comprehensive Style Test</h2>
                <p>This is just an ipsis verbis copy of the first example running on the Ghost...</p>
            </section>
        </a>
    
    <!-- [[! /prev_post ]] -->
</aside>

<!-- /post -->


        <footer class="site-footer clearfix">
          <section class="copyright"><a href="/">데이터공작소</a> &copy; 2017</section>
          <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> using <a href="https://github.com/biomadeira/jasper">Jasper</a></section>
        </footer>
    </div>
    <!-- [[! Ghost outputs important scripts and data with this tag ]] -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <!-- [[! The main JavaScript file for Casper ]] -->
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="/assets/js/index.js"></script>

    <!-- Add Google Analytics  -->
        <!-- Google Analytics Tracking code -->
     <script>
	    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	    ga('create', 'UA-90708702-1', 'auto');
	    ga('send', 'pageview');

     </script>   
</body>
</html>
